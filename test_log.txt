00:00 +0: loading E:/Projects/Flutter/sanitarypad/integration_test/screenshot_test.dart
Running Gradle task 'assembleDebug'...                             49.7s
√ Built build\app\outputs\flutter-apk\app-debug.apk
Installing build\app\outputs\flutter-apk\app-debug.apk...          46.6s
00:00 +0: (setUpAll)
00:00 +0: take screenshots of all main screens
Group auth is, false
Group auth is, false
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
Cannot use ref functions after the dependency of a provider changed but before the provider rebuilt
'package:riverpod/src/framework/element.dart':
Failed assertion: line 675 pos 7: '!_didChangeDependency'

When the exception was thrown, this was the stack:
#2      ProviderElementBase._assertNotOutdated (package:riverpod/src/framework/element.dart:675:7)
#3      ProviderElementBase.watch (package:riverpod/src/framework/element.dart:700:5)
#4      AppRouter.routerProvider.<anonymous closure>.<anonymous closure> (package:sanitarypad/core/routing/app_router.dart:126:31)
<asynchronous suspension>
#5      RouteConfiguration.redirect.processRedirect.processTopLevelRedirect (package:go_router/src/configuration.dart:354:7)
<asynchronous suspension>
#6      GoRouteInformationParser.parseRouteInformationWithDependencies.<anonymous closure> (package:go_router/src/parser.dart:101:28)
<asynchronous suspension>
#7      _RouterState._processParsedRouteInformation.<anonymous closure> (package:flutter/src/widgets/router.dart:786:12)
<asynchronous suspension>
(elided 2 frames from class _AssertionError)

The test description was:
  take screenshots of all main screens
════════════════════════════════════════════════════════════════════════════════════════════════════
00:02 +0 -1: take screenshots of all main screens [E]
  Test failed. See exception logs above.
  The test description was: take screenshots of all main screens
  
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test (but after the test had completed):
Cannot use ref functions after the dependency of a provider changed but before the provider rebuilt
'package:riverpod/src/framework/element.dart':
Failed assertion: line 675 pos 7: '!_didChangeDependency'

When the exception was thrown, this was the stack:
#2      ProviderElementBase._assertNotOutdated (package:riverpod/src/framework/element.dart:675:7)
#3      ProviderElementBase.watch (package:riverpod/src/framework/element.dart:700:5)
#4      AppRouter.routerProvider.<anonymous closure>.<anonymous closure> (package:sanitarypad/core/routing/app_router.dart:126:31)
<asynchronous suspension>
#5      RouteConfiguration.redirect.processRedirect.processTopLevelRedirect (package:go_router/src/configuration.dart:354:7)
<asynchronous suspension>
#6      GoRouteInformationParser.parseRouteInformationWithDependencies.<anonymous closure> (package:go_router/src/parser.dart:101:28)
<asynchronous suspension>
#7      _RouterState._processParsedRouteInformation.<anonymous closure> (package:flutter/src/widgets/router.dart:786:12)
<asynchronous suspension>
(elided 2 frames from class _AssertionError)
════════════════════════════════════════════════════════════════════════════════════════════════════
  Test failed. See exception logs above.
  The test description was: take screenshots of all main screens
  
  'package:flutter_test/src/binding.dart': Failed assertion: line 2168 pos 12: '_pendingFrame == null': is not true.
  dart:core                                                                                                    _AssertionError._throwNew
  package:flutter_test/src/binding.dart 2168:12                                                                LiveTestWidgetsFlutterBinding.postTest
  ===== asynchronous gap ===========================
  package:stream_channel                                                                                       _GuaranteeSink.add
  c:/Users/samue/AppData/Local/Temp/flutter_tools.cc6c40d9/flutter_test_listener.6b72a41a/listener.dart 56:22  main.<fn>
  
00:02 +0 -1: (tearDownAll)
00:04 +0 -1: Some tests failed.
